# Основные команды GIT

---
Создаём репозиторий в текущей папке. Tочка - это путь к текущей папке.

```bash
git init .
```

---

Проверка состояния (статуса) репозитория. _Можно запускать послекаждой команды, чтобы посмотреть  измененя._

```bash
git status
```
---

Добавляем все файлы в текущем каталоге для добавления их в репозиторий. _Нужно делать каждый раз после изменения или добавления файлов. Можно так же добавлять файлы по одному._ __Эту команду надо будет периодически повторять__

```bash
git add .
```
---

Создаём ветку репозитория для хранения различных версий.

```bash 
git branch -M master
```

---

Сохраняем добавленные файлы в репозитории. _Необходимо указывать коментарий для того чтобы понимать, что было изменено._ __Эту команду надо будет периодически повторять__


```bash
git commit -m "каждый коммит коментируем обязательно чтобы было понятно"
```

---

Подключаемся к репозиторию на [GITHUB](https://github.com "github.com")

```bash
git remote add origin git@github.com:Shurshun2020/my_git.git
```

Если нужно отключить локальный репозиторий от удалённого то выполняется команда
```bash
git remote rm origin 
```

---

Добавляем все изменения в удаленном репозитории на [github]:https://github.com/Shurshun2020/my_git __Эту команду надо будет периодически повторять__


```bash
git push -u origin master
```

---

В дальнейшем повторяем связку команд:


```bash
git add .  
git commit -m "каждый коммит коментируем обязательно чтобы было понятно"  
git push -u origin master
```  

И не забываем проверять статус репозитория:

`git status`

**Для добавления локальной ветки в удалённый репозиторий**
```bash
git push -u origin <имя_ветки>
```


---

## Внесение изменений.

---
**Изменяем последний коммит с помощью _--amend_**

Для исправления примечания к коммиту, надо выполнить

```bash
git commit --amend -m "Исправленное примечание."
``` 

Для добавления файла в уже состоявшейся коммит

```bash
git add zabitiyfail.txt
git commit --amend --no-edit
``` 
При этом надо помнить, что с помощью
```
 --no-edit
```
исправляется только последний коммит

---
### Исправляем измененя в файлах
 __Убирать__ файлы из списка коммита.
 
```bash
git restore --staged <file>

git reset HEAD
```

 __Откатить__ историю (всё и репозиторий и файлы) до указанного коммита.

```bash
git reset --hard <commit hash>

```


__Восстановить__  файл до последней сохраненной версии
```bash
git restore <file>
git checkout -- <file>
```

---

## Просмотр изменений

**Просмотр изменений в файлах**

```bash
git diff 
и
git diff --staged
```

---
## Копирование репозитория

**Скопировать репозиторий в текущую папку и связать папку с ним**

```bash
git clone <сслылка>
```

**Для проверки используется команда**
```bash
git remoute -v
```

---

# Ветки

**Посмотреть имеющиеся ветки в проекте**

```bash
git branch
```
_текущая ветка будет помечена символом * - звездочка_

Просмотреть все ветки (*в том числе не локальные*)

```bash
git branch -a
```
 

**Cоздать ветку**

```bash
git branch %BRANCH_NAME%
```
**Переход в ветку**
```bash
git checkout %BRANCH_NAME%
```
**Создать ветку и сразу переключиться на неё**
```bash
git checkout -b <название_ветки>
```
---
**Слияние веток**

Перейти в ветку в которую будут вливаться изменения  из другой ветки (*как правиловетка master*)
```bash
git checkout master
```
Команда слияния веток
```bash
git merge <ветка с изменениями>
```
---
## Загрузка с удалённого репозитория
Для загрузки с удаленного репозитория используется команда __git pull__
Последовательность действий следующая:
```bash
 git checkout main # перешли в локальную ветку main
 git pull # подтянули новые изменения в main
 git branch my-branch # создали новую ветку 
 git checkout my-branch # вернулись в локальную рабочую ветку my-branch
 git merge main # влили main в новую ветку my-branch
 git push -u origin my-branch # отправили ветку my-branch в удалённый репозиторий 
```

# Игнорирование файлов

Для игнорирования фаилов в корне папки создаётся файл
```bash
.gitignore
```
Для указания файлов могут быть использованы маски:

__*__ - любая строка в т.ч. пустая.

__**__ - работают с вложенными папками. 
_Двойная звёздочка может соответствовать любому количеству таких папок (в том числе нулю). Одинарная может соответствовать только одной. Для двойной звёздочки верно то же самое, что и для одной: если задать правило **, то будут проигнорированы все файлы._

[ ] - один символ из диапазона или из перечисленных.

/ - после имени указывает на то что указан каталог и игнорируется всё в каталоге. Если указать перед именем или шаблоном, то игнорирование отностится только в корню каталога, а на подпапки не распространяется.

! - отрицание  шаблона.

---

